"use strict";(self.webpackChunkwoolf_rep_hw_05_movies=self.webpackChunkwoolf_rep_hw_05_movies||[]).push([[488],{488:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var s=a(671),c=a(693),n=a(597),r=a(43),i=a(579);const o=e=>{let{submitHandler:t}=e;const[a,s]=(0,r.useState)("");return(0,i.jsxs)("form",{onSubmit:t,children:[(0,i.jsx)("input",{type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",name:"query",value:a,onChange:e=>s(e.target.value)}),(0,i.jsx)("button",{type:"submit",children:"Search"})]})},u=()=>{const[e,t]=(0,r.useState)([]),[a,u]=(0,r.useState)(null),[l,d]=(0,r.useState)(!1),[m,h]=(0,r.useState)("");return(0,r.useEffect)(()=>{d(!0);(async()=>{try{const e=await(0,s.Wi)(m);t(e)}catch(a){u(a)}finally{d(!1)}})()},[m]),(0,i.jsxs)("div",{children:[(0,i.jsx)(o,{submitHandler:async e=>{e.preventDefault();const t=e.currentTarget.query.value;""!==t.trim()?h(t):alert("Please enter a search query")}}),l&&(0,i.jsx)(c.A,{}),a&&(0,i.jsxs)("p",{children:["Something went wrong: ",a.message]}),e.length>0&&(0,i.jsx)(n.A,{movies:e})]})}},597:(e,t,a)=>{a.d(t,{A:()=>r});var s=a(249),c=a(579);const n=e=>{let{data:t}=e;const a=(0,s.zy)();return(0,c.jsx)("li",{children:(0,c.jsx)(s.N_,{to:"/movies/".concat(t.id),state:{from:a},children:t.title})})},r=e=>{let{movies:t}=e;return(0,c.jsx)("ul",{children:t.map(e=>(0,c.jsx)(n,{data:e},e.id))})}},671:(e,t,a)=>{a.d(t,{$V:()=>i,MB:()=>u,Wi:()=>r,a2:()=>o,p8:()=>n});var s=a(722);const c="162c66808f40d9926cd1cd1521481975";s.A.defaults.baseURL="https://api.themoviedb.org/3";const n=async()=>(await s.A.get("trending/movie/day?api_key=".concat(c))).data.results,r=async e=>(await s.A.get("search/movie?api_key=".concat(c,"&query=").concat(e))).data.results,i=async e=>(await s.A.get("movie/".concat(e,"?api_key=").concat(c))).data,o=async e=>(await s.A.get("movie/".concat(e,"/credits?api_key=").concat(c))).data,u=async e=>(await s.A.get("movie/".concat(e,"/reviews?api_key=").concat(c))).data}}]);
//# sourceMappingURL=488.e8e01517.chunk.js.map